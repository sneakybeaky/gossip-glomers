{
  "packages": [
    "graphviz",
    "gnuplot",
    "ruby_3_1",
    "curl",
    "glow",
    "openjdk17@latest",
    "go@latest"
  ],
  "shell": {
    "init_hook": [
      "clear",
      "echo 'Welcome to the Maelstrom in Devbox Shell! \n * Type `devbox run help` to get started.\n * Type `devbox run install` to install Maelstrom.\n * After installing Maelstrom, type `devbox run docs` to browse the Maelstrom docs.'"
    ],
    "scripts": {
      "install": [
        "tar xjf <(curl -L -k https://github.com/jepsen-io/maelstrom/releases/download/v0.2.3/maelstrom.tar.bz2)"
      ],
      "help": [
        "glow README.md"
      ],
      "docs": [
        "glow maelstrom/doc"
      ],
      "echo": [
        "go build -o .bin/echo  echo/*",
        "./maelstrom/maelstrom test -w echo --bin .bin/echo --node-count 1 --time-limit 10"
      ],
      "unique-ids": [
        "go build -o .bin/unique-ids  unique-ids/*",
        "./maelstrom/maelstrom test -w unique-ids --bin .bin/unique-ids --time-limit 30 --rate 1000 --node-count 3 --availability total --nemesis partition"
      ]
    }
  }
}
